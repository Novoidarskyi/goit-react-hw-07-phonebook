{"version":3,"sources":["Components/AddContactForm/AddContactForm.module.css","Components/ContactListItem/ContactListItem.module.css","Components/ContactList/ContactList.module.css","Components/FindForm/FindForm.module.css","Components/Phonebook/Phonebook.module.css","redux/actions.js","redux/redusers.js","redux/contactApiServise.js","Components/AddContactForm/AddContactForm.jsx","utils/hasName.js","Components/ContactListItem/ContactListItem.jsx","redux/selectors.js","Components/ContactList/ContactList.jsx","utils/getFiltredContacts.js","Components/FindForm/FindForm.jsx","Components/Phonebook/Phonebook.jsx","App.jsx","redux/store.js","index.js"],"names":["module","exports","changeFilter","createAction","filter","createReducer","_","action","payload","contactApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","keepUnusedDataFor","endpoints","builder","getContact","query","providesTags","deleteContact","mutation","id","url","method","invalidatesTags","addContact","body","useGetContactQuery","useDeleteContactMutation","useAddContactMutation","rootReducer","combineReducers","reducer","AddContactForm","data","isLoading","error","useEffect","toast","status","onError","debounce","className","css","header","initialValues","name","tel","onSubmit","event","actions","map","el","includes","success","resetForm","errors","touched","form","label","htmlFor","input","placeholder","button","type","disabled","color","height","width","timeout","ContactListItem","contact","listItem","buttonFetching","onClick","icon","GoTrashcan","size","getFilterValue","state","ContactList","contacts","string","isFetching","filterValue","useSelector","fitredContacts","toLowerCase","LinearProgress","style","marginTop","list","FindForm","value","s","dispatch","useDispatch","onChange","target","Phonebook","container","position","App","store","configureStore","devTools","process","middleware","getDefaultMiddleware","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4084da67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AddContactForm_header__10jlb composes_header__3LcMd\",\"form\":\"AddContactForm_form__1F84p\",\"input\":\"AddContactForm_input__2-nuH composes_input__1oNON\",\"button\":\"AddContactForm_button__VuypO composes_button__1fnVW\",\"label\":\"AddContactForm_label__2_g8s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItem\":\"ContactListItem_listItem__2KRw2\",\"button\":\"ContactListItem_button__1wXYG composes_button__1fnVW\",\"buttonFetching\":\"ContactListItem_buttonFetching__25j-g composes_button__1fnVW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ContactList_header__3_5Ig composes_header__3LcMd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"FindForm_header__GLNeU composes_header__3LcMd\",\"input\":\"FindForm_input__3S4tl composes_input__1oNON\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Phonebook_container__WPvyv\"};","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('changeFilter');\n","import { changeFilter } from 'redux/actions';\nimport { createReducer } from '@reduxjs/toolkit';\n\nexport const filter = createReducer('', {\n  [changeFilter]: (_, action) => action.payload,\n});\n","import { combineReducers } from '@reduxjs/toolkit';\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\nimport { filter } from 'redux/redusers';\n\nexport const contactApi = createApi({\n  reducerPath: 'contactApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://61328c92ab7b1e001799b53c.mockapi.io/',\n  }),\n  tagTypes: ['contact'],\n  keepUnusedDataFor: 30,\n  endpoints: builder => ({\n    getContact: builder.query({\n      query: () => 'contacts',\n      providesTags: ['contact'],\n    }),\n    deleteContact: builder.mutation({\n      query(id) {\n        return {\n          url: `contacts/${id}`,\n          method: 'DELETE',\n        };\n      },\n      invalidatesTags: ['contact'],\n    }),\n    addContact: builder.mutation({\n      query(body) {\n        return {\n          url: 'contacts',\n          method: 'POST',\n          body,\n        };\n      },\n      invalidatesTags: ['contact'],\n    }),\n  }),\n});\n\nexport const {\n  useGetContactQuery,\n  useDeleteContactMutation,\n  useAddContactMutation,\n} = contactApi;\n\nexport const rootReducer = combineReducers({\n  filter,\n  [contactApi.reducerPath]: contactApi.reducer,\n});\n","//Styles\nimport css from './AddContactForm.module.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n//Components\nimport { Formik, Form, Field } from 'formik';\nimport Loader from 'react-loader-spinner';\n//Utils\nimport { useEffect } from 'react';\nimport { toast } from 'react-hot-toast';\nimport { debounce } from 'throttle-debounce';\nimport { hasName } from 'utils/hasName';\nimport {\n  useAddContactMutation,\n  useGetContactQuery,\n} from 'redux/contactApiServise';\n\nconst AddContactForm = () => {\n  const { data } = useGetContactQuery();\n  const [addContact, { isLoading, error }] = useAddContactMutation();\n\n  useEffect(() => {\n    error &&\n      toast.error(`Возникла ошибка ${error.status}, сообщение ${error.data}`);\n  }, [error]);\n\n  const onError = debounce(500, error => {\n    toast.error(error);\n  });\n\n  function onSubmit(event, actions) {\n    if (hasName(event.name, data)) {\n      toast.error('Такой контакт уже есть');\n    } else {\n      addContact({\n        ...event,\n      });\n      toast.success('Добавлено');\n    }\n    actions.resetForm();\n    return;\n  }\n\n  return (\n    <>\n      <h1 className={css.header}>Phonebook</h1>\n      <Formik\n        initialValues={{\n          name: '',\n          tel: '',\n        }}     \n        onSubmit={onSubmit}\n      >\n        {({ errors, touched }) => (\n          <Form className={css.form}>\n            <label className={css.label} htmlFor=\"name\">\n              Name\n            </label>\n            <Field\n              className={css.input}\n              id=\"name\"\n              name=\"name\"\n              placeholder=\"Enter name\"\n            />\n            {touched.name && errors.name && onError(errors.name)}\n\n            <label className={css.label} htmlFor=\"tel\">\n              Phone\n            </label>\n            <Field\n              className={css.input}\n              id=\"tel\"\n              name=\"tel\"\n              placeholder=\"Enter phone number\"\n            />\n            {touched.tel && errors.tel && onError(errors.tel)}\n\n            <button className={css.button} type=\"submit\" disabled={isLoading}>\n              {isLoading ? (\n                <Loader\n                  type=\"TailSpin\"\n                  color=\"#fff\"\n                  height={12}\n                  width={12}\n                  timeout={3000} //3 secs\n                />\n              ) : (\n                'add'\n              )}\n            </button>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n};\n\nexport default AddContactForm;\n","export const hasName = (name, contacts) => {\n  const contactNames = contacts.map(el => el.name);\n  return contactNames.includes(name);\n};\n","//Styles\nimport css from './ContactListItem.module.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n//Components\nimport { GoTrashcan } from 'react-icons/go';\nimport Loader from 'react-loader-spinner';\n//Utils\nimport { useEffect } from 'react';\nimport { useDeleteContactMutation } from 'redux/contactApiServise';\nimport toast from 'react-hot-toast';\nimport PropTypes from 'prop-types';\n\nexport const ContactListItem = ({ contact }) => {\n  const [deleteContact, { isLoading, error }] = useDeleteContactMutation();\n\n  const hangleContactDelete = id => () => {\n    toast.success('Удалено', {\n      icon: GoTrashcan({ color: 'rgb(245, 210, 13)', size: '20' }),\n    });\n    return deleteContact(id);\n  };\n\n  useEffect(() => {\n    error &&\n      toast.error(`Возникла ошибка ${error.status}, сообщение ${error.data}`);\n  }, [error]);\n\n  return (\n    <li className={css.listItem}>\n      <span>{contact.name}</span>\n      <span>{contact.tel}</span>\n      <button\n        className={isLoading ? css.buttonFetching : css.button}\n        type=\"button\"\n        onClick={hangleContactDelete(contact.id)}\n        disabled={isLoading}\n      >\n        {isLoading ? (\n          <Loader type=\"TailSpin\" color=\"#fff\" height={12} width={12} />\n        ) : (\n          'delete'\n        )}\n        {!isLoading && <GoTrashcan size=\"16\" />}\n      </button>\n    </li>\n  );\n};\n\nContactListItem.propTypes = {\n  contact: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    tel: PropTypes.string.isRequired,\n    id: PropTypes.isRequired,\n  }),\n};\n","export const getFilterValue = state => state.filter;\n","//Styles\nimport css from './ContactList.module.css';\n//Components\nimport { LinearProgress } from '@material-ui/core';\nimport { ContactListItem } from 'Components/ContactListItem/ContactListItem';\n//Utils\nimport { useEffect } from 'react';\nimport { getFiltredContacts } from 'utils/getFiltredContacts';\nimport { useSelector } from 'react-redux';\nimport { useGetContactQuery } from 'redux/contactApiServise';\nimport toast from 'react-hot-toast';\nimport { getFilterValue } from 'redux/selectors';\n\nconst ContactList = () => {\n  const { data, isFetching, error } = useGetContactQuery();\n  const filterValue = useSelector(getFilterValue);\n  const fitredContacts = getFiltredContacts(data, filterValue);\n\n  useEffect(() => {\n    error &&\n      toast.error(`Возникла ошибка ${error.status}, сообщение ${error.data}`);\n  }, [error]);\n\n  return (\n    <>\n      <h2 className={css.header}>Your contacts</h2>\n      {isFetching && <LinearProgress style={{ marginTop: '20px' }} />}\n      <ul className={css.list}>\n        {fitredContacts.map(contact => {\n          return <ContactListItem contact={contact} key={contact.id} />;\n        })}\n      </ul>\n    </>\n  );\n};\n\nexport default ContactList;\n","export const getFiltredContacts = (contacts, string) => {\n  return contacts\n    ? contacts.filter(el =>\n        el.name.toLowerCase().includes(string.toLowerCase()),\n      )\n    : [];\n};\n","//Styles\nimport css from './FindForm.module.css';\n//Utils\nimport { changeFilter } from 'redux/actions';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst FindForm = () => {\n  const value = useSelector(s => s.filter);\n  const dispatch = useDispatch();\n\n  function onChange(event) {\n    dispatch(changeFilter(event.target.value));\n  }\n  return (\n    <>\n      <h2 className={css.header}>Find by name</h2>\n      <input\n        className={css.input}\n        type=\"text\"\n        onChange={onChange}\n        value={value}\n        placeholder=\"Enter to find\"\n      />\n    </>\n  );\n};\n\nexport default FindForm;\n","//Components\n\nimport AddContactForm from 'Components/AddContactForm/AddContactForm';\nimport ContactList from 'Components/ContactList/ContactList';\nimport FindForm from 'Components/FindForm/FindForm';\nimport { Toaster } from 'react-hot-toast';\n//Styles\nimport css from './Phonebook.module.css';\n//Utils\n\nconst Phonebook = () => {\n  return (\n    <div className={css.container}>\n      <AddContactForm />\n      <FindForm />\n      <ContactList />\n      <Toaster position=\"top-right\" />\n    </div>\n  );\n};\n\nexport default Phonebook;\n","import Phonebook from 'Components/Phonebook/Phonebook';\n\nconst App = () => {\n  return <Phonebook />;\n};\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport { rootReducer } from 'redux/contactApiServise';\nimport { contactApi } from 'redux/contactApiServise';\n\nconst store = configureStore({\n  reducer: rootReducer,\n  devTools: process.env.NODE_ENV === 'development',\n  middleware: getDefaultMiddleware =>\n    getDefaultMiddleware().concat(contactApi.middleware),\n});\n\nexport { store };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport { store } from 'redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}